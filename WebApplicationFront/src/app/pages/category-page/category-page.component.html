<div class="page-layout">
  <div *ngIf="categoryFilters" class="filters-column">
    <div
      *ngFor="let rangeFilter of categoryFilters.rangePropertyForFilters"
      class="filter-group"
    >
      <label>{{ rangeFilter.propertyName }}</label>
      <div class="range-control">
        <span>От: {{ rangeFilter.currentMinValue }}</span>
        <input
          type="range"
          [min]="rangeFilter.minValue"
          [max]="rangeFilter.maxValue"
          [(ngModel)]="rangeFilter.currentMinValue"
          (change)="onFilterChange()"
          #rangeInputMin
          [attr.data-property]="rangeFilter.propertyName"
        />
      </div>
      <div class="range-control">
        <span>До: {{ rangeFilter.currentMaxValue }}</span>
        <input
          type="range"
          [min]="rangeFilter.minValue"
          [max]="rangeFilter.maxValue"
          [(ngModel)]="rangeFilter.currentMaxValue"
          (change)="onFilterChange()"
          #rangeInputMax
          [attr.data-property]="rangeFilter.propertyName"
        />
      </div>
    </div>

    <div
      *ngFor="
        let collectionFilter of categoryFilters.collectionPropertyForFilters
      "
      class="filter-group"
    >
      <label>{{ collectionFilter.propertyName }}</label>
      <div
        *ngFor="let value of collectionFilter.uniqueValues"
        class="checkbox-option"
      >
        <input
          type="checkbox"
          [value]="value"
          (change)="onFilterChange()"
          #collectionInput
          [attr.data-property]="collectionFilter.propertyName"
        />
        <span>{{ value }}</span>
      </div>
    </div>
  </div>

  <div class="products-column">
    <div class="products-grid">
      <app-product-card
        *ngFor="let product of products"
        [product]="product"
      ></app-product-card>
    </div>
  </div>
</div>
